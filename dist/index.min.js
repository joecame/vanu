var vanu=function(){"use strict";return function(){var l=window,e=arguments[0]||{},t=l.document.querySelector("base"),c=e.baseController||"",u=t?t.getAttribute("href"):"";"/"===(u=e.base?e.base:u)&&(u="");var s=e.timeout||300,d=e.target,f=e.parse||function(e){return Object.fromEntries(new l.URLSearchParams(e).entries())};"string"==typeof d&&(d=l.document.querySelector(d));function h(e,o){var c=Array.prototype.slice.call(o.childNodes),e=Array.prototype.slice.call(e.childNodes),t=c.length-e.length;if(0<t)for(;0<t;t--)c[c.length-t].parentNode.removeChild(c[c.length-t]);e.forEach(function(e,t){if(c[t])if(C(e)===C(c[t])){if(e.attributes&&e.attributes.length)for(var n=0,r=e.attributes.length;n<r;){var a,u=e.attributes[n];!u.name||(a=D(e,u.name)||"")!==(D(c[t],u.name)||"")&&(c[t][u.name]=a),n++}var i=D(e);if(i&&i!==D(c[t])&&(c[t].textContent=i),0<c[t].childNodes.length&&e.childNodes.length<1)c[t].innerHTML="";else{if(c[t].childNodes.length<1&&0<e.childNodes.length){i=l.document.createDocumentFragment();return h(e,i),void c[t].appendChild(i)}0<e.childNodes.length&&h(e,c[t])}}else c[t].parentNode.replaceChild(e.cloneNode(!0),c[t]);else o.appendChild(e.cloneNode(!0))})}function p(e){var t,e=(t=e(),(e=l.document.createElement("div")).innerHTML=t,e);h(e,d),e=e.querySelector("[u-link]"),g&&clearTimeout(g),N("vanu:end"),e&&!x&&a(!0)}var v,m,g,_,y=[],S={},b=function(e,t){return t.render(function(){return""})},E="?v="+Date.now(),N=function(e){return l.dispatchEvent(new l.Event(e))},x=!0,C=function(e){return 3===e.nodeType?"text":8===e.nodeType?"comment":e.tagName.toLowerCase()},D=function(e,t){return t?"string"!=typeof e[t]?e.getAttribute(t):e[t]:e.childNodes&&0<e.childNodes.length?null:e.textContent},a=function(e){(e?d:l.document).querySelectorAll("[u-link]").forEach(function(t){t.handle=function(e){e.preventDefault(),e.stopPropagation();e=t.getAttribute("href")||t.getAttribute("u-link");m!==e&&(l.history.pushState({},"",e),l.__uHandler())},t.addEventListener("click",t.handle)})},H={},w=0;l.__uEvent=function(e,t,n){return H[e].call(t,n)};function i(e){var t=e.name||++w;return H[t]=e,"return __uEvent('".concat(t,"', this, event)")}return{routes:[],html:function(e){var r=[].slice.call(arguments,1);return e.reduce(function(e,t,n){n=r[n-1];return"function"==typeof n&&(n=i(n)),e+String(n)+t})},find:function(e){for(var t,n,r={},a=0,u=this.routes,i=u.length;a<i;){if((n=u[a]).rgx.test(e)){n.isParam&&(r=n.rgx.exec(e).groups||{}),t=n.fns;break}a++}return{fns:t,params:r}},on:function(e,t){return"vanu:error"===e?b=t:"vanu:start"!==e&&"vanu:end"!==e||l.addEventListener(e,t),this},handle:function(e,r){e||(g=setTimeout(function(){return N("vanu:start")},s)),v&&(v(),v=void 0);var t=r||l.location,n=t.pathname,e=t.search,t=t.hash,a=0;m=t?(n=("/"===(n="/"===n[n.length-1]?n.slice(0,-1):n)?"/":n+"/")+t.substring(2),t+e):n+e,H={},w=0;var n=this.find(n),u=n.fns,n=n.params,i=r||{url:m};i.isServer=x,i.params=n,i.query=i.query||(e?f(e.substring(1)):{}),i.html=this.html,i.go=function(e,t){return function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"pushState",n=2<arguments.length?arguments[2]:void 0;l.history[t]({},"",e),l.__uHandler(n)}(e,t,!0)},i.unmount=function(e){return v=e,i},x?i.__uServerData?i.initData=i.__uServerData:l.document.getElementById("__uServerData")&&(i.initData=JSON.parse(l.document.getElementById("__uServerData").textContent)):i.initData=void 0;function o(e){return e?b(e,i):u[a++](i,o)}i.render=i.render||function(e){p(_=e)},i.target=function(e){e&&(d="string"==typeof e?l.document.querySelector(e):e)},i.useValue=function(t){return{get value(){return t},set value(e){t=e,_&&p(_)}}},i.load=function(e,t){if(r)return r.loadScript(c+e)(i,o);if(e=-1!==(n=e).indexOf("?")?n.split("?")[0]:n,e=c+e,t=t||e.substring(e.lastIndexOf("/")+1).replace(".js",""),S[e])return l[t](i,o);S[e]=!0;var n=l.document.createElement("script");n.src=e+E,n.type="text/javascript",l.document.head.appendChild(n),n.onload=function(){return l[t](i,o)}},u=u||[function(e){return e.render(function(){return""})}],u=y.concat(u),o(),x=!1},use:function(){return y=y.concat([].slice.call(arguments)),this},listen:function(e,n,r){var t=this;e?(x=!0,r&&(e.__uServerData=r),e.res=e.res||n,e.pathname=e.path||e.url.split("?")[0],e.loadScript=e.loadScript||function(e){return require(__baseClient+e)},e.render=function(e){d.innerHTML=e(),!l.document.getElementById("__uServerData")&&r&&((t=l.document.createElement("script")).id="__uServerData",t.setAttribute("type","application/json"),t.append(JSON.stringify(r)),l.document.head.appendChild(t));var t=l.document.documentElement.outerHTML;if(n.send)return n.send(t);n.setHeader("Content-Type","text/html; charset=utf-8"),n.end(t)},this.handle(!0,e)):(l.__uHandler||(l.__uHandler=function(e){return t.handle(e)}),l.__uHandler(),a(),l.addEventListener("popstate",function(){m!==l.location.hash&&l.__uHandler()}))},get:function(e){e=u+e;var t,n,r=[].slice.call(arguments,1),a=r[r.length-1];"object"==typeof a&&(r=r.slice(0,-1).concat([(t=a.controller,n=a.name,function(e){return(0,e.load)(t,n)})]));a=-1!==e.indexOf("/:");return e=e.replace(/\/$/,"").replace(/:(\w+)(\?)?(\.)?/g,"$2(?<$1>[^/]+)$2$3"),/\*|\./.test(e)&&(e=e.replace(/(\/?)\*/g,"($1.*)?").replace(/\.(?=[\w(])/,"\\.")),this.routes.push({fns:r,rgx:new RegExp("^".concat(e,"/*$")),isParam:a}),this}}}}();
